var whenReady=function(){var n=[],a=!1;function e(e){if(!a&&("readystatechange"!==e.type||"complete"===document.readyState)){for(var t=0;t<n.length;t++)n[t].call(document);a=!0,n=null}}return document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),document.addEventListener("readystatechange",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e)),function(e){a?e.call(document):n.push(e)}}();